LOOP1: READ X
LOAD X
BRNEG OUT1
PUSH
STACKW 0
LOAD Z
ADD 1
STORE Z
BR LOOP1

OUT1: NOOP
LOAD 0
STORE X
LOOP2: STACKR 0
ADD X
STORE X
POP
LOAD Z
SUB 1
STORE Z
BRNEG OUT2
BR LOOP2

OUT2: NOOP
WRITE X
STOP
X 0
Y 0
Z 0
